<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—°ì† ë°©íƒˆì¶œ ê²Œì„</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&family=Orbitron:wght@700&display=swap" rel="stylesheet">

    <style>
        /* --- ê³µìš© ìŠ¤íƒ€ì¼ --- */
        body {
            font-family: 'Malgun Gothic', sans-serif;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 15px;
            box-sizing: border-box;
            transition: background-color 1s ease;
        }

        .stage-container {
            width: 100%;
            max-width: 800px;
            background-color: #f5f5f5;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            text-align: center;
        }

        h1 { color: #2c3e50; }
        .description { color: #7f8c8d; margin-bottom: 30px; }

        .clue-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .clue {
            border: 3px solid #bdc3c7;
            border-radius: 10px;
            padding: 20px;
            width: 90%;
            max-width: 400px;
            background-color: #ffffff;
            box-sizing: border-box;
        }

        /* ì…ë ¥ í•„ë“œ ë° ë²„íŠ¼ ê³µìš© ìŠ¤íƒ€ì¼ */
        .password-input {
            width: 120px;
            padding: 10px;
            font-size: 1.5em;
            text-align: center;
            border: 2px solid #333;
            border-radius: 5px;
        }

        .submit-button {
            display: block;
            width: 100px;
            margin: 15px auto 0;
            padding: 10px;
            font-size: 1em;
            font-weight: bold;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .message-box {
            margin-top: 20px;
            font-size: 1.2em;
            font-weight: bold;
            height: 25px;
        }

        .success { color: #2ecc71; }
        .error { color: #e74c3c; }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
        .shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }


        /* --- 1ë‹¨ê³„ ì „ìš© ìŠ¤íƒ€ì¼ --- */
        #body-1 { background-color: #3d3d3d; }
        #blackboard {
            background-color: #2c3e50;
            color: #ecf0f1;
            border: 10px solid #8b4513;
            font-family: 'Nanum Pen Script', cursive;
            font-size: 1.8em;
        }
        #blackboard h2 {
            font-family: 'Malgun Gothic', sans-serif;
            font-size: 0.8em;
            border-bottom: 1px solid #7f8c8d;
            padding-bottom: 5px;
        }
        .clock-face { font-size: 3.5em; font-weight: bold; color: #34495e; margin-top: 15px; }
        #door-1 {
            background-color: #a0522d;
            width: 200px; padding: 30px 20px; margin: 0 auto;
            border-radius: 5px; border: 5px solid #5d2906; color: white;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
        }
        #door-status-1 { font-size: 1.5em; font-weight: bold; margin-bottom: 15px; }
        #submit-button-1 { background-color: #3498db; }
        #submit-button-1:hover { background-color: #2980b9; }

        /* --- 2ë‹¨ê³„ ì „ìš© ìŠ¤íƒ€ì¼ --- */
        #body-2 { background-color: #525252; }
        #trash-can { background-color: #e0e0e0; }
        #trash-can p { font-size: 1.2em; margin: 0; }
        #trash-can strong { font-size: 2.5em; color: #c0392b; }
        #shoe-rack { background-color: #f3e5ab; font-family: 'Nanum Pen Script', cursive; font-size: 1.7em; line-height: 1.4; }
        #window-2 {
            background-color: #a9d0f5; width: 200px; padding: 30px 20px; margin: 0 auto;
            border-radius: 5px; border: 5px solid #666; color: #333;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
            transition: background-color 0.5s, box-shadow 0.5s;
        }
        #window-2.unlocked-glow {
            background-color: #87ceeb !important;
            box-shadow: 0 0 15px #87ceeb, 0 0 30px #87ceeb, inset 0 0 10px rgba(0,0,0,0.1);
        }
        #window-status-2 { font-size: 1.5em; font-weight: bold; margin-bottom: 15px; }
        #submit-button-2 { background-color: #3498db; }
        #submit-button-2:hover { background-color: #2980b9; }

        /* --- 3ë‹¨ê³„ ì „ìš© ìŠ¤íƒ€ì¼ --- */
        #body-3 { background-color: #465a78; }
        #scoreboard { background-color: #1a1a1a; border: 10px solid #444; border-radius: 10px; padding: 25px; max-width: 400px; margin: 0 auto 40px auto; }
        #scoreboard h2 { margin: 0 0 15px 0; color: #eee; font-size: 1.2em; }
        .time-display { font-family: 'Orbitron', sans-serif; font-size: 5em; color: #ff4141; text-shadow: 0 0 10px #ff4141, 0 0 20px #ff4141; }
        #gate-3 {
            background-color: #808080; width: 220px; padding: 30px 20px; margin: 0 auto;
            border-radius: 5px; border: 5px solid #4d4d4d; color: white;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5); transition: background-color 0.5s, box-shadow 0.5s;
        }
        #gate-3.unlocked-glow {
            background-color: #2ecc71 !important;
            box-shadow: 0 0 15px #2ecc71, 0 0 30px #2ecc71, inset 0 0 10px rgba(0,0,0,0.5);
        }
        #gate-status-3 { font-size: 1.5em; font-weight: bold; margin-bottom: 15px; }
        #submit-button-3 { background-color: #e67e22; width: 120px; font-size: 1.2em; }
        #submit-button-3:hover { background-color: #d35400; }
        #message-box-3 { height: 50px; display: flex; justify-content: center; align-items: center; }
        #message-box-3 .success { color: #2980b9; font-size: 1.5em; }

        /* --- ìµœì¢… í™”ë©´ ìŠ¤íƒ€ì¼ --- */
        #final-screen { text-align: center; }
        #final-screen h1 { font-size: 3em; color: #2ecc71; }
        #final-screen p { font-size: 1.5em; color: #34495e; }


        /* ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ */
        @media (min-width: 600px) {
            .clue-container { flex-direction: row; align-items: stretch; }
            .clue { width: 45%; }
        }
    </style>
</head>
<body id="body-1">

    <!-- ==================== 1ë‹¨ê³„: êµì‹¤ ==================== -->
    <div id="stage-1" class="stage-container">
        <h1>1ë‹¨ê³„: ë‚¯ì„  êµì‹¤</h1>
        <p class="description">ì •ì‹ ì„ ì°¨ë ¤ë³´ë‹ˆ ë‚¯ì„  êµì‹¤. ë¬¸ì€ ë¹„ë°€ë²ˆí˜¸ë¡œ ì ê²¨ìˆë‹¤.<br>êµì‹¤ ì•ˆì˜ ë‹¨ì„œë¥¼ ì´ìš©í•´ íƒˆì¶œí•´ì•¼ í•œë‹¤.</p>
        
        <div class="clue-container">
            <div id="clock" class="clue">
                <h2>ë©ˆì¶˜ ì‹œê³„</h2>
                <div class="clock-face">9:03</div>
            </div>
            <div id="blackboard" class="clue">
                <h2>ì¹ íŒ</h2>
                <p>"ì‹œê°„ ë‚˜ëˆ„ê¸° ë¶„"</p>
                <p>"11ë°˜ê³¼ 8ë°˜ì€ ì¹œí•©ë‹ˆë‹¤"</p>
            </div>
        </div>

        <div id="door-area-1">
            <div id="door-1">
                <div id="door-status-1">LOCKED</div>
                <input type="text" id="password-input-1" class="password-input" maxlength="3" placeholder="###" autocomplete="off">
                <button id="submit-button-1" class="submit-button">ì—´ê¸°</button>
            </div>
            <p id="message-box-1" class="message-box"></p>
        </div>
    </div>

    <!-- ==================== 2ë‹¨ê³„: ë³µë„ ==================== -->
    <div id="stage-2" class="stage-container" style="display: none;">
        <h1>2ë‹¨ê³„: ëì´ ë³´ì´ì§€ ì•ŠëŠ” ë³µë„</h1>
        <p class="description">êµì‹¤ ë¬¸ì„ ì—´ì ê¸¸ê²Œ ì´ì–´ì§„ ë³µë„ê°€ ë‚˜íƒ€ë‚¬ë‹¤.<br>ë³µë„ ëì˜ ì°½ë¬¸ì´ ìœ ì¼í•œ íƒˆì¶œêµ¬ì§€ë§Œ, ì—­ì‹œë‚˜ ë¹„ë°€ë²ˆí˜¸ë¡œ ì ê²¨ìˆë‹¤.</p>
        
        <div class="clue-container">
            <div id="trash-can" class="clue">
                <h2>ì“°ë ˆê¸°í†µ ğŸ—‘ï¸</h2>
                <p>êµ¬ê²¨ì§„ ì¢…ì´ ë­‰ì¹˜ê°€<br><strong>7ê°œ</strong> ë“¤ì–´ìˆë‹¤.</p>
            </div>
            <div id="shoe-rack" class="clue">
                <h2>ì‹ ë°œì¥ ë©”ëª¨</h2>
                <p>"ìš°ë¦¬ ë°˜ì€ 36ëª…ì´ë‹¤."</p>
                <p>"ì„¸ë¡œì¤„ ì‹ ë°œ ê°œìˆ˜ê°€<br>ê°€ë¡œì¤„ ì‹ ë°œ ê°œìˆ˜ë³´ë‹¤<br>5ê°œ ì ë‹¤."</p>
            </div>
        </div>

        <div id="window-area-2">
            <div id="window-2">
                <div id="window-status-2">LOCKED</div>
                <input type="text" id="password-input-2" class="password-input" maxlength="3" placeholder="###" autocomplete="off">
                <button id="submit-button-2" class="submit-button">ì—´ê¸°</button>
            </div>
            <p id="message-box-2" class="message-box"></p>
        </div>
    </div>

    <!-- ==================== 3ë‹¨ê³„: ìš´ë™ì¥ ==================== -->
    <div id="stage-3" class="stage-container" style="display: none;">
        <h1>3ë‹¨ê³„: ë§ˆì§€ë§‰ ê´€ë¬¸, ìš´ë™ì¥</h1>
        <p class="description">ì°½ë¬¸ì„ ë„˜ì–´ì˜¤ë‹ˆ ë„“ì€ ìš´ë™ì¥ì´ ëˆˆì•ì— í¼ì³ì§„ë‹¤. ì–´ëŠë§ í•´ê°€ ì§€ê³  ìˆë‹¤.<br>í•™êµë¥¼ ë‚˜ê°ˆ ìˆ˜ ìˆëŠ” ë§ˆì§€ë§‰ ê´€ë¬¸, ì •ë¬¸ì´ ë³´ì¸ë‹¤!</p>
        
        <div id="scoreboard" class="clue">
            <h2>ìš´ë™ì¥ ì „ìì‹œê³„</h2>
            <div class="time-display">6:11</div>
        </div>

        <div id="gate-area-3">
            <div id="gate-3">
                <div id="gate-status-3">LOCKED</div>
                <input type="text" id="password-input-3" class="password-input" maxlength="3" placeholder="###" autocomplete="off">
                <button id="submit-button-3" class="submit-button">íƒˆì¶œ</button>
            </div>
            <div id="message-box-3" class="message-box">
                <p id="message-content-3"></p>
            </div>
        </div>
    </div>
    
    <!-- ==================== ìµœì¢… íƒˆì¶œ ì„±ê³µ í™”ë©´ ==================== -->
    <div id="final-screen" class="stage-container" style="display: none;">
        <h1>ğŸ‰ COMPLETE ğŸ‰</h1>
        <p>ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  ê´€ë¬¸ì„ í†µê³¼í•˜ì—¬<br>ë¬´ì‚¬íˆ í•™êµë¥¼ íƒˆì¶œí–ˆìŠµë‹ˆë‹¤!</p>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const stages = {
                1: document.getElementById('stage-1'),
                2: document.getElementById('stage-2'),
                3: document.getElementById('stage-3'),
                final: document.getElementById('final-screen')
            };

            const body = document.body;

            function showStage(stageNum) {
                Object.values(stages).forEach(stage => stage.style.display = 'none');
                
                if(stageNum === 'final') {
                    stages.final.style.display = 'block';
                } else {
                    stages[stageNum].style.display = 'block';
                    body.id = `body-${stageNum}`;
                }
            }

            // --- 1ë‹¨ê³„ ë¡œì§ ---
            const setupStage1 = () => {
                const correctPassword = '319';
                const passwordInput = document.getElementById('password-input-1');
                const submitButton = document.getElementById('submit-button-1');
                const messageBox = document.getElementById('message-box-1');
                const door = document.getElementById('door-1');
                const doorStatus = document.getElementById('door-status-1');

                function checkPassword1() {
                    if (passwordInput.value === correctPassword) {
                        messageBox.textContent = 'ì² ì»¥! ìë¬¼ì‡ ê°€ ì—´ë ¸ìŠµë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ë¡œ...';
                        messageBox.className = 'message-box success';
                        door.style.backgroundColor = '#27ae60';
                        doorStatus.textContent = 'UNLOCKED';
                        passwordInput.disabled = true;
                        submitButton.disabled = true;

                        setTimeout(() => showStage(2), 2000); // 2ì´ˆ í›„ 2ë‹¨ê³„ í‘œì‹œ
                    } else {
                        messageBox.textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦½ë‹ˆë‹¤. ë‹¨ì„œë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”.';
                        messageBox.className = 'message-box error';
                        passwordInput.value = '';
                        passwordInput.focus();
                    }
                }
                submitButton.addEventListener('click', checkPassword1);
                passwordInput.addEventListener('keyup', (event) => { if (event.key === 'Enter') checkPassword1(); });
            };

            // --- 2ë‹¨ê³„ ë¡œì§ ---
            const setupStage2 = () => {
                const correctPassword = '749';
                const passwordInput = document.getElementById('password-input-2');
                const submitButton = document.getElementById('submit-button-2');
                const messageBox = document.getElementById('message-box-2');
                const windowDiv = document.getElementById('window-2');
                const windowStatus = document.getElementById('window-status-2');
                const windowArea = document.getElementById('window-area-2');
                let attemptCount = 0;

                function checkPassword2() {
                    if (passwordInput.value === correctPassword) {
                        messageBox.textContent = 'ëœì»¹! ì°½ë¬¸ì„ ë„˜ì–´ ë‹¤ìŒ ì¥ì†Œë¡œ...';
                        messageBox.className = 'message-box success';
                        windowStatus.textContent = 'UNLOCKED';
                        windowDiv.classList.add('unlocked-glow');
                        passwordInput.disabled = true;
                        submitButton.disabled = true;
                        
                        setTimeout(() => showStage(3), 2000); // 2ì´ˆ í›„ 3ë‹¨ê³„ í‘œì‹œ
                    } else {
                        attemptCount++;
                        windowArea.classList.add('shake');
                        setTimeout(() => windowArea.classList.remove('shake'), 820);

                        if (['479', '497', '794', '947', '974'].includes(passwordInput.value) || attemptCount >= 2) {
                            messageBox.textContent = 'ìˆ«ìëŠ” ë§ëŠ” ê²ƒ ê°™ì€ë°... ìˆœì„œê°€ ë¬¸ì œì¼ê¹Œ?';
                        } else {
                            messageBox.textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦½ë‹ˆë‹¤. ì£¼ë³€ì„ ë‹¤ì‹œ ì‚´í´ë³´ì„¸ìš”.';
                        }
                        messageBox.className = 'message-box error';
                        passwordInput.value = '';
                        passwordInput.focus();
                    }
                }
                submitButton.addEventListener('click', checkPassword2);
                passwordInput.addEventListener('keyup', (event) => { if (event.key === 'Enter') checkPassword2(); });
            };

            // --- 3ë‹¨ê³„ ë¡œì§ ---
            const setupStage3 = () => {
                const correctPassword = '611';
                const passwordInput = document.getElementById('password-input-3');
                const submitButton = document.getElementById('submit-button-3');
                const messageContent = document.getElementById('message-content-3');
                const messageBox = document.getElementById('message-box-3');
                const gate = document.getElementById('gate-3');
                const gateStatus = document.getElementById('gate-status-3');
                const gateArea = document.getElementById('gate-area-3');

                function checkPassword3() {
                    if (passwordInput.value === correctPassword) {
                        gateStatus.textContent = 'UNLOCKED';
                        gate.classList.add('unlocked-glow');
                        messageContent.textContent = 'ğŸ‰ ì™„ë²½í•œ íƒˆì¶œì…ë‹ˆë‹¤! ğŸ‰';
                        messageBox.className = 'message-box';
                        messageContent.parentElement.className = 'message-box';
                        messageContent.className = 'success';
                        passwordInput.disabled = true;
                        submitButton.disabled = true;
                        
                        setTimeout(() => showStage('final'), 2000); // 2ì´ˆ í›„ ìµœì¢… í™”ë©´ í‘œì‹œ
                    } else {
                        gateArea.classList.add('shake');
                        setTimeout(() => gateArea.classList.remove('shake'), 820);
                        messageContent.textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦½ë‹ˆë‹¤. ì‹œê°„ì˜ ì˜ë¯¸ë¥¼ ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”.';
                        messageContent.className = 'error';
                        passwordInput.value = '';
                        passwordInput.focus();
                    }
                }
                submitButton.addEventListener('click', checkPassword3);
                passwordInput.addEventListener('keyup', (event) => { if (event.key === 'Enter') checkPassword3(); });
            };

            // ê° ë‹¨ê³„ ì´ˆê¸°í™” í•¨ìˆ˜ í˜¸ì¶œ
            setupStage1();
            setupStage2();
            setupStage3();
        });
    </script>
</body>
</html>
Use code with caution.
Html
